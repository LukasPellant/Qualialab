1 NovÃ½ klÃ­ÄovÃ½ systÃ©m : Populace
Prvek	Funkce	VÃ½chozÃ­ hodnota
Population Cap	Max. poÄet obyvatel â€“ souÄet kapacit vÅ¡ech Houses + Town Hall.	10
Idle Villagers	VolnÃ­ lidÃ© ve frontÄ›; mohou bÃ½t najati coby Worker nebo Soldier.	5 (start)
Growth	Recruit v Town Hall: +1 Villager â‡’ âˆ’20 food, âˆ’5 gold, trvÃ¡ 30 s.	â€”

V kÃ³du: usePopulationStore { idle, cap }; ResourceSystem pÅ™i kaÅ¾dÃ©m ticku kontroluje moÅ¾nÃ© rekrutovÃ¡nÃ­/limity.

2 Budovy â€“ tabulka
Tier	Budova	ÃšÄel	Build Cost (wood/stone/food/gold)	Build Time	Kapacita / Bonus
0 (start)	Town Hall	centrÃ¡lnÃ­ sklad, rekrut Villagers, respawn hrÃ¡Äe	0 / 0 / 0 / 0	â€”	cap +10, storage 500 kaÅ¾dÃ¡ surovina
1	House	zvyÅ¡uje populace cap	25 / 10 / 0 / 0	20 s	cap +5
1	Farm (uÅ¾ mÃ¡me)	+2 food/tick	20 / 0 / 0 / 0	25 s	â€”
1	Lumber Camp	zkracuje â€gather woodâ€œ Äas o 30 %	30 / 5 / 0 / 0	30 s	storage +200 wood
2	Stone Quarry	+1 stone/tick (musÃ­ stÃ¡t u Mountain)	20 / 20 / 0 / 0	40 s	â€”
2	Watchtower	odhalÃ­ mlhu 12 â¨‰ 12 polÃ­, stÅ™Ã­lÃ­ na bandity (pozdÄ›ji)	40 / 15 / 0 / 5	45 s	HP 300
3	Barracks	trÃ©nuje Soldiers z Villagers (+1 stone, +10 gold, 40 s)	60 / 40 / 20 / 20	60 s	fronta 2

(â€Tierâ€œ = minimÃ¡lnÃ­ celkovÃ½ poÄet postavenÃ½ch budov; slouÅ¾Ã­ jako jednoduchÃ½ tech-gating.)

3 ZaÄÃ¡tek hry
Mapa spawnuje Town Hall, 2 House, 1 Farm, 1 Forest, 1 Mountain.

Resources start: wood = 100, stone = 50, food = 120, gold = 50.

Idle Villagers = 5, cap = 20 â†’ 5 slotÅ¯ volnÃ½ch.

4 Toky prÃ¡ce
Recruit â†’ Worker

HrÃ¡Ä klikne na idle villager v UI (nebo hotkey W).

Worker vytvoÅ™en (odebere 1 idle).

Gather (dÅ™evo / kÃ¡men)

Pokud u suroviny postaven specializovanÃ½ camp/quarry â†’ zrychlenÃ½ workDuration = base * 0.7.

Build request

BuildMenu pÅ™edÃ¡ Task(type:"build", blueprint:"House") do TaskSystem.

Deduct resources okamÅ¾itÄ›; pokud chybÃ­ â†’ toast â€Not enough â€¦â€œ.

Soldier training (aÅ¾ Tier 3)

Barracks queue slot â†’ âˆ’1 idle villager, âˆ’1 stone, âˆ’10 gold, âˆ’20 food.

Po 40 s novÃ½ soldier entita.

5 Ãšpravy subsystÃ©mÅ¯
SystÃ©m	ZmÄ›na
usePopulationStore	{ idle: number, cap: number } + selector canRecruit.
ResourceSystem	Funkce autoRecruit() â€“ pokud food â‰¥ 40 && gold â‰¥ 10 && idle < cap, zahÃ¡jÃ­ recruit tick job.
TaskSystem	NovÃ½ task type "train" (Barracks).
UI	HUDBar: pÅ™idat idle/cap ikonku ğŸ‘¥ 5 / 20.
WorkerTable: sloupec â€Unassignâ€œ (vracÃ­ worker do idle).
PathSystem	House, Barracks, Tower pÅ™idÃ¡vajÃ­ blok do gridu.
Save/Load	Snapshot novÃ½ch polÃ­ (population, building.progress).

6 Balancing smÄ›rem k playable loop
DÅ™evÄ›nÃ¡ ekonomika: 1 Worker + Forest â†’ +1 wood / 4 s â‡’ Farm & House ufinancovatelnÃ© za ~3 min.

Recruit nÃ¡klad (20 food + 5 gold) vynutÃ­ postavit Farm(y) neÅ¾ se spamujÃ­ Workerzy.

Tier 2 vyÅ¾aduje 6 budov celkem â†’ hrÃ¡Ä musÃ­ rozÅ¡Ã­Å™it zÃ¡kladnu a Å™eÅ¡it space/path.

7 Future hooks
Population Happiness (spotÅ™eba food/wood per tick; nÃ­zkÃ© = rebelie).

Shared pool pro Soldiers â€“ jednÃ­m klikem lze â€conscriptionâ€œ; Worker âŸ· Soldier beze ztrÃ¡t.

Event-driven growth: pÅ™i stavbÄ› kaÅ¾dÃ© House Å¡ance 10 % Å¾e pÅ™ibude â€œfree villagerâ€ (rodÃ­ se dÄ›ti).